const phoneRegExp=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/,successMessageTemplate=document.querySelector("#success"),modalWindow=document.querySelector(".modal-feedback");let successMessageContent;const inputPhone=document.querySelector("#feedback-phone"),inputName=document.querySelector("#feedback-name"),feedbackForm=document.querySelector(".feedback__form"),feedbackWrapper=document.querySelector(".feedback__wrapper");if(feedbackForm){const e=()=>{inputPhone.value?phoneRegExp.test(inputPhone.value)?(inputPhone.setCustomValidity(""),inputPhone.reportValidity()):(inputPhone.setCustomValidity("В это поле нельзя вводить буквы"),inputPhone.reportValidity()):inputPhone.setCustomValidity("")};inputPhone.addEventListener("input",e)}if(feedbackForm&&successMessageTemplate){successMessageContent=successMessageTemplate.content.querySelector(".feedback__success");let e=!0,t="";try{t=localStorage.getItem("phoneNumber")}catch(t){e=!1}const o=()=>{const e=document.querySelector(".feedback__success");e&&e.remove()},n=()=>{const e=successMessageContent.cloneNode(!0);feedbackWrapper.appendChild(e)};feedbackForm.addEventListener("submit",(t=>{t.preventDefault(),e&&inputPhone.value&&localStorage.setItem("phoneNumber",inputPhone.value),n(),document.querySelector(".feedback__success-button").addEventListener("click",o),inputPhone.value="",inputName.value=""}))}const modalInputPhone=document.querySelector("#modal-feedback-phone"),modalInputName=document.querySelector("#modal-feedback-name"),modalFeedbackForm=document.querySelector(".modal-feedback__form"),modalFeedbackWrapper=document.querySelector(".modal-feedback__wrapper"),body=document.querySelector(".page-body"),introSection=document.querySelector(".intro");let introButton,modalButtonClose;if(modalWindow&&(modalButtonClose=modalWindow.querySelector(".modal-feedback__button-close"),modalButtonClose.addEventListener("click",(()=>{modalWindow.classList.remove("modal-feedback--show"),body.classList.remove("page-body--blur")}))),introSection&&(introButton=introSection.querySelector(".button"),introButton.addEventListener("click",(()=>{body.classList.add("page-body--blur"),modalWindow.classList.add("modal-feedback--show")}))),modalFeedbackForm){const e=()=>{modalInputPhone.value?phoneRegExp.test(modalInputPhone.value)?(modalInputPhone.setCustomValidity(""),modalInputPhone.reportValidity()):(modalInputPhone.setCustomValidity("В это поле нельзя вводить буквы"),modalInputPhone.reportValidity()):modalInputPhone.setCustomValidity("")};modalInputPhone.addEventListener("input",e)}if(modalFeedbackForm&&successMessageTemplate){successMessageContent=successMessageTemplate.content.querySelector(".feedback__success");let e=!0,t="";try{t=localStorage.getItem("phoneNumber")}catch(t){e=!1}const o=()=>{const e=document.querySelector(".feedback__success");e&&e.remove()},n=()=>{const e=successMessageContent.cloneNode(!0);modalFeedbackWrapper.appendChild(e)};modalFeedbackForm.addEventListener("submit",(t=>{t.preventDefault(),e&&inputPhone.value&&localStorage.setItem("phoneNumber",inputPhone.value),n(),document.querySelector(".feedback__success-button").addEventListener("click",o),document.querySelector(".button-close").addEventListener("click",o),inputPhone.value="",inputName.value=""}))}const videoBackgrounds=document.querySelectorAll("video");document.addEventListener("DOMContentLoaded",(()=>{videoBackgrounds.forEach((e=>{e.setAttribute("loop","loop"),e.setAttribute("autoplay","autoplay")}))}));const navMain=document.querySelector(".main-nav"),pageFooter=document.querySelector(".page-footer"),navToggle=document.querySelector(".main-nav__toggle");navMain&&navToggle.addEventListener("click",(()=>{navMain.classList.contains("main-nav--opened")?(navMain.classList.remove("main-nav--opened"),body.classList.remove("page-body--noscroll")):(navMain.classList.add("main-nav--opened"),body.classList.add("page-body--noscroll"))}));const treatLinks=e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href");document.querySelector(o).scrollIntoView({block:"start",behavior:"smooth"}),body.classList.remove("page-body--noscroll"),navMain.classList.remove("main-nav--opened")}))};if(pageFooter){pageFooter.querySelectorAll("a").forEach((e=>treatLinks(e)))}if(navMain){navMain.querySelectorAll("a").forEach((e=>treatLinks(e)))}const pageHeaderMenu=document.querySelector(".page-header__menu");pageHeaderMenu&&pageHeaderMenu.classList.remove("page-header__menu--nojs");const faqContent=document.querySelectorAll(".faq__content");faqContent&&faqContent.forEach((e=>e.classList.add("collapse")));const introTitle=document.querySelector(".intro__title"),introBox=document.querySelector(".intro__box");introBox&&introBox.classList.remove("intro__box--nojs"),introTitle&&introBox&&window.innerWidth<768&&(introTitle.classList.add("carousel-item"),introTitle.classList.add("active"),introBox.classList.add("carousel-item")),document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".photos__carousel")){new Splide(".photos__carousel",{perMove:1,fixedWidth:"50%",type:"loop",pagination:"slider",arrows:!1,autoplay:!0,pauseOnHover:!0,classes:{pagination:"bullets",page:"bullets__item"},breakpoints:{1060:{fixedWidth:"360px",focus:"center"},768:{fixedWidth:"100%"}}}).mount(),document.querySelector(".photos__carousel").classList.remove("photos__carousel--nojs");document.querySelector(".photos__slides").classList.remove("photos__slides--nojs")}}));const tabs=document.querySelector(".pricing__tabs"),tabContent=document.querySelectorAll(".pricing__table"),tabLinks=document.querySelectorAll(".pricing__tab");let tableTitles;tabLinks&&tabLinks.forEach((e=>e.removeAttribute("href"))),tabContent&&tabContent.forEach((e=>e.classList.remove("pricing__table--nojs"))),tabs&&(tableTitles=document.querySelectorAll(".pricing__table-title"),tableTitles.forEach((e=>{e.classList.remove("pricing__table-title--nojs")})),tabs.addEventListener("click",(e=>{e.preventDefault();const t=e.target.dataset.id;if(t){tabLinks.forEach((e=>{e.classList.remove("pricing__tab--current")})),e.target.classList.add("pricing__tab--current"),tabContent.forEach((e=>{e.classList.add("pricing__table--hide")}));document.querySelector(`#${t}`).classList.remove("pricing__table--hide")}})));